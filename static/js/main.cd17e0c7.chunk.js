(this.webpackJsonpusers=this.webpackJsonpusers||[]).push([[0],{21:function(e,t,a){},22:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(14),s=a.n(c),o=(a(21),a(22),a(15)),i=a(3),l=a(9),u=a.n(l),d=a(0),b=function(e){var t=e.onHandleClick;return Object(d.jsx)("button",{type:"button",className:u.a.addBtn,onClick:t,children:"Create New User"})},j=a(8),m=a.n(j),p=a.p+"static/media/sprite.64b20ae8.svg",f=function(e){var t=e.closeModal,a=e.setCloseModal,r=e.children,c=e.nameForm,s=void 0===c?"Name form":c;Object(n.useEffect)((function(){window.addEventListener("keydown",o);var e=document.querySelector("body");return t&&(e.style.overflow="hidden"),function(){window.removeEventListener("keydown",o),document.querySelector("body").style.overflow=""}}));var o=function(e){return"Escape"===e.code&&a()};return Object(d.jsx)(d.Fragment,{children:t&&Object(d.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&a()},className:m.a.overlay,children:Object(d.jsxs)("div",{className:m.a.modal,children:[Object(d.jsx)("button",{type:"button",className:m.a.closeBtn,onClick:function(){return a()},children:Object(d.jsx)("svg",{className:m.a.closeBtn,children:Object(d.jsx)("use",{href:p+"#icon-cancel-circle"})})}),Object(d.jsx)("h2",{className:m.a.nameForm,children:s}),r,Object(d.jsx)("button",{type:"button",className:m.a.cancelBtn,onClick:function(){return a()},children:"Close"})]})})})},x=a(7),O=a.n(x),h=a(11),v=a(5),_=a(2),N=a(16),y=a(6),g=a.n(y),E=["name","label","onChange","value","isError","className","type","inputId"];function C(e){var t=e.name,a=e.label,n=e.onChange,r=e.value,c=e.isError,s=e.className,o=void 0===s?"":s,i=e.type,l=void 0===i?"text":i,u=e.inputId,b=Object(N.a)(e,E);return Object(d.jsxs)("div",{className:"".concat(g.a.wrapper," ").concat(o),children:[Object(d.jsx)("input",Object(_.a)({type:l,className:"".concat(g.a.input," ").concat(c&&g.a.inputError),placeholder:" ",name:t,id:u,onChange:n,value:r},b)),Object(d.jsx)("div",{className:"".concat(g.a.bottomLine," ").concat(c&&g.a.bottomLineError)}),c&&Object(d.jsx)("span",{className:g.a.error,children:c}),Object(d.jsx)("label",{htmlFor:u,className:"".concat(g.a.label," ").concat(c&&g.a.labelError),children:a})]})}function I(){return(I=Object(h.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://dummyapi.io/data/v1/user",e.next=4,fetch("https://dummyapi.io/data/v1/user",{method:"GET",headers:{"Content-Type":"application/json","app-id":"615d85b1eb3d1fe948797d59"}});case 4:return t=e.sent,e.abrupt("return",t.json());case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function S(e){return w.apply(this,arguments)}function w(){return(w=Object(h.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://dummyapi.io/data/v1/user/create",e.next=3,fetch("https://dummyapi.io/data/v1/user/create",{method:"POST",headers:{"Content-Type":"application/json","app-id":"615d85b1eb3d1fe948797d59"},body:JSON.stringify(t)});case 3:if(a=e.sent,console.log(a),!a.ok){e.next=11;break}return e.next=8,a.json();case 8:e.t0=e.sent,e.next=16;break;case 11:return e.t1=Promise,e.next=14,a.json();case 14:e.t2=e.sent,e.t0=e.t1.reject.call(e.t1,e.t2);case 16:return e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(e){var t=e.onSubmit,a=e.setCloseModal,r=e.handleAddUserSuccess,c=Object(n.useState)("mr"),s=Object(i.a)(c,2),o=s[0],l=s[1],b=Object(n.useState)(""),j=Object(i.a)(b,2),m=j[0],p=j[1],f=Object(n.useState)({firstName:"",lastName:"",email:""}),x=Object(i.a)(f,2),N=x[0],y=x[1],g=Object(n.useState)({firstName:null,lastName:null,email:null}),E=Object(i.a)(g,2),I=E[0],w=E[1],k=function(e){var t=e.target,a=t.name,n=t.value;y((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(v.a)({},a,n))})),w((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(v.a)({},a,null))}))},L=function(){var e=Object(h.a)(O.a.mark((function e(n){var c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),c=!1,Object.entries(N).forEach((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];if(!n){c=!0,w((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(v.a)({},a,"This field is required"))}))}if("email"!==a&&(n.length<3||n.length>50)){c=!0,w((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(v.a)({},a,"Field must be at least 3 long and not exceed 50 "))}))}if("email"===a){if(!n.match(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/)){c=!0,w((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(v.a)({},a,"Email is not valid"))}))}}})),!c){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,S(Object(_.a)(Object(_.a)({},N),{},{title:o,picture:m}));case 8:s=e.sent,t(s),l(""),p(""),r(!0),a(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),Object.entries(e.t0.data).forEach((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];console.log(a,n),w((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(v.a)({},a,n))}))}));case 19:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("form",{onSubmit:L,children:[Object(d.jsxs)("label",{className:u.a.title,children:["Title",Object(d.jsxs)("select",{name:"title",className:u.a.selectTitle,defaultValue:o,onChange:function(e){return l(e.target.value)},children:[Object(d.jsx)("option",{value:"mr",children:"mr"}),Object(d.jsx)("option",{value:"mrs",children:"mrs"}),Object(d.jsx)("option",{value:"ms",children:"ms"}),Object(d.jsx)("option",{value:"miss",children:"miss"}),Object(d.jsx)("option",{value:"dir",children:"dir"})]})]}),Object(d.jsx)(C,{name:"firstName",label:"First Name",onChange:k,value:N.firstName,isError:I.firstName,className:"",inputId:"firstName"}),Object(d.jsx)(C,{name:"lastName",label:"Last Name",onChange:k,value:N.lastName,isError:I.lastName,className:"",inputId:"lastName"}),Object(d.jsx)(C,{name:"email",label:"Email",onChange:k,value:N.email,isError:I.email,className:"",inputId:"email"}),Object(d.jsx)(C,{name:"picture",label:"Avatar",onChange:function(e){return p(e.currentTarget.value)},value:m,isError:null,className:"",inputId:"picture"}),Object(d.jsx)("button",{type:"submit",className:u.a.addBtn,children:"Add user"})]})},L=function(e){var t=e.closeModal,a=e.setCloseModal,n=e.onSubmit,r=e.handleAddUserSuccess;return Object(d.jsx)(f,{nameForm:"Create user",closeModal:t,setCloseModal:a,children:Object(d.jsx)(k,{setCloseModal:a,onSubmit:n,handleAddUserSuccess:r})})},M=a(4),U=a.n(M),F=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(i.a)(c,2),l=s[0],u=s[1],j=Object(n.useState)(!1),m=Object(i.a)(j,2),p=m[0],f=m[1];Object(n.useEffect)((function(){(function(){return I.apply(this,arguments)})().then((function(e){var t=e.data;return r(t)})).catch((function(e){return console.log(e)}))}),[]),Object(n.useEffect)((function(){p&&setTimeout((function(){f(!1)}),3e3)}),[p]);return Object(d.jsxs)("div",{className:U.a.wrapper,children:[p&&Object(d.jsx)("div",{className:U.a.message,children:"User is added!"}),Object(d.jsx)("h1",{children:"User info"}),Object(d.jsx)(b,{onHandleClick:function(){return u(!0)}}),Object(d.jsx)("ul",{className:U.a.userList,children:a.map((function(e){return Object(d.jsxs)("li",{className:U.a.userItem,children:[Object(d.jsxs)("div",{className:U.a.userInfoWrapper,children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{className:U.a.userInfo,children:"Title: "}),e.title]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{className:U.a.userInfo,children:"First Name: "})," ",e.firstName]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{className:U.a.userInfo,children:"Last Name: "}),e.lastName]})]}),Object(d.jsx)("img",{className:U.a.picture,src:e.picture,alt:e.lastName})]},e.id)}))}),Object(d.jsx)(L,{closeModal:l,setCloseModal:u,onSubmit:function(e){r((function(t){return[].concat(Object(o.a)(t),[e])}))},handleAddUserSuccess:function(e){f(e)}})]})};var T=function(){return Object(d.jsx)(F,{})};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(T,{})}),document.getElementById("root"))},4:function(e,t,a){e.exports={wrapper:"UserList_wrapper__3ycWs",message:"UserList_message__lGSBy",userList:"UserList_userList__9xDef",userItem:"UserList_userItem__330Ih",userInfo:"UserList_userInfo__2k1n3",picture:"UserList_picture__29jPk"}},6:function(e,t,a){e.exports={wrapper:"Input_wrapper__3etuO",input:"Input_input__Zcq4u",label:"Input_label__3EV8T",bottomLine:"Input_bottomLine__6H61C",inputError:"Input_inputError__x0d-i",bottomLineError:"Input_bottomLineError__h7Vai",labelError:"Input_labelError__2HSbl",error:"Input_error__2Ikmg"}},8:function(e,t,a){e.exports={overlay:"Modal_overlay__gD8SR",modal:"Modal_modal__2OENs",nameForm:"Modal_nameForm__5ANyY",cancelBtn:"Modal_cancelBtn__MuNS2",closeBtn:"Modal_closeBtn__2kqSh"}},9:function(e,t,a){e.exports={title:"UserForm_title__3ggDq",selectTitle:"UserForm_selectTitle__2o7Q7",addBtn:"UserForm_addBtn__2tNFz"}}},[[25,1,2]]]);
//# sourceMappingURL=main.cd17e0c7.chunk.js.map